(function(t){function e(e){for(var o,i,s=e[0],A=e[1],u=e[2],l=0,d=[];l<s.length;l++)i=s[l],a[i]&&d.push(a[i][0]),a[i]=0;for(o in A)Object.prototype.hasOwnProperty.call(A,o)&&(t[o]=A[o]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,s=1;s<n.length;s++){var A=n[s];0!==a[A]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],A=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=A;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),a=n.n(o);a.a},"30e1":function(t,e,n){t.exports=n.p+"media/tamb.32c76fe2.mp3"},"4b27":function(t,e,n){"use strict";var o=n("85b3"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("circle-canvas")],1)},r=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"controls"}},[o("div",{staticClass:"control-column"},[o("button",{on:{click:t.addCircle}},[t._v("add circle")]),o("button",{on:{click:t.resetCircles}},[t._v("reset circles")])]),o("div",{staticClass:"control-column"},[o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.beatTempo,expression:"beatTempo"}],attrs:{type:"radio",name:"beatTempo",id:"three",value:"3"},domProps:{checked:t._q(t.beatTempo,"3")},on:{change:function(e){t.beatTempo="3"}}}),o("label",{attrs:{for:"three"}},[t._v("3 beat")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.beatTempo,expression:"beatTempo"}],attrs:{type:"radio",name:"beatTempo",id:"four",value:"4"},domProps:{checked:t._q(t.beatTempo,"4")},on:{change:function(e){t.beatTempo="4"}}}),o("label",{attrs:{for:"four"}},[t._v("4 beat")])]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],attrs:{type:"radio",name:"notes",id:"fourth",value:"4"},domProps:{checked:t._q(t.notes,"4")},on:{change:function(e){t.notes="4"}}}),o("label",{attrs:{for:"fourth"}},[t._v("4 notes")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],attrs:{type:"radio",name:"notes",id:"eighth",value:"8"},domProps:{checked:t._q(t.notes,"8")},on:{change:function(e){t.notes="8"}}}),o("label",{attrs:{for:"eighth"}},[t._v("8 notes")])]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tempo,expression:"tempo"}],attrs:{type:"range",id:"tempo",name:"tempo",min:"30",max:"180"},domProps:{value:t.tempo},on:{__r:function(e){t.tempo=e.target.value}}}),o("label",{attrs:{for:"tempo"}},[t._v("tempo: "+t._s(t.tempo))])]),o("div",{staticClass:"control-column"},[o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],attrs:{type:"radio",name:"role",id:"mainbeat",value:"main"},domProps:{checked:t._q(t.role,"main")},on:{change:function(e){t.role="main"}}}),o("label",{attrs:{for:"mainbeat"}},[t._v("add main beats")]),o("span",{staticClass:"beat",style:{backgroundColor:t.beatColor("main")}})]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],attrs:{type:"radio",name:"role",id:"offbeat",value:"off"},domProps:{checked:t._q(t.role,"off")},on:{change:function(e){t.role="off"}}}),o("label",{attrs:{for:"offbeat"}},[t._v("add offbeats")]),o("span",{staticClass:"beat",style:{backgroundColor:t.beatColor("off")}})]),o("button",{on:{click:t.resetBeats}},[t._v("reset beats")])])]),o("p",[t._v("click on the dots to add beats")]),o("button",{staticClass:"big-button",on:{click:t.playPause}},[t._v("play / pause")]),o("button",{staticClass:"big-button",on:{click:t.stopPlaying}},[t._v("stop")]),o("button",{staticClass:"big-button",on:{mouseup:function(e){t.rotate("right")}}},[t._v("rotate right")]),o("button",{staticClass:"big-button",on:{mouseup:function(e){t.rotate("left")}}},[t._v("rotate left")]),o("vue-p5",{ref:"rounds",on:{setup:t.setup,draw:t.draw,mouseclicked:t.createBeats}}),o("audio",{ref:"hitSound",attrs:{autobuffer:""}},[o("source",{attrs:{src:n("d675"),type:"audio/mp3"}})]),o("audio",{ref:"offSound",attrs:{autobuffer:""}},[o("source",{attrs:{src:n("30e1"),type:"audio/mp3"}})]),t._m(0)],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("inspired by "),n("a",{attrs:{href:"https://www.youtube.com/watch?v=2UphAzryVpY"}},[t._v("John Varney's wheel method")])])}],A=(n("7514"),n("5176")),u=n.n(A),c=(n("6c7b"),n("ac6a"),n("e814")),l=n.n(c),d=n("bd86"),f=n("e25d"),p=n.n(f),h={main:"main",off:"off"},g={name:"circleCanvas",data:function(){var t;return{beatTempo:4,notes:4,currentAngle:0,tempo:60,radius:0,center:0,circles:[],dots:[],dotSize:5,beats:[],beatSize:25,sounds:(t={},Object(d["a"])(t,h.main,null),Object(d["a"])(t,h.off,null),t),started:!1,role:h.main,isRotating:!1,rotationDir:""}},computed:{isMobile:function(){return window.innerWidth<480},canvasSize:function(){return this.isMobile?.9*window.innerWidth:.6*window.innerHeight},angles:function(){return 3*l()(this.beatTempo,10)*l()(this.notes,10)/4},increment:function(){var t=l()(this.beatTempo,10)%4===0?4:l()(this.beatTempo,10);return 6/t},beatColor:function(){return function(t){var e={main:"#da3369",off:"#8c63da"};return e[t]}},rotation:function(){var t="right"===this.rotationDir?-1:1;return 360/this.angles*t}},methods:{playPause:function(){this.started=!this.started},stopPlaying:function(){this.started=!1,this.currentAngle=0},rotate:function(t){this.rotationDir=t,this.isRotating=!0},isAreaDetected:function(t,e){var n=10;return t.x<=e.x+n&&t.x>=e.x-n&&t.y<=e.y+n&&t.y>=e.y-n},setup:function(t){t.createCanvas(this.canvasSize,this.canvasSize),t.background("#fafafa"),t.strokeWeight(6),this.radius=.44*t.width,this.circles.push(2*this.radius),this.center={x:t.width/2,y:t.height/2},this.createDots(this.radius)},createDots:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n?this.dots=this.dots.map(function(n,o){return e.getDots([],t*(1-.25*o))}):this.dots.push(this.getDots([],t))},getDots:function(t,e){for(var n=0;n<this.angles;n++){var o=2*n*Math.PI/this.angles*-1,a=this.center.x-e*Math.sin(o),r=this.center.y-e*Math.cos(o);t.push({x:a,y:r,angle:o})}return t},getBeat:function(t,e){return{x:t.x,y:t.y,angle:t.angle/Math.PI*180,circle:e,size:this.beatSize*(1-.08*e),role:this.role}},draw:function(t){t.clear(),this.drawCircles(t),this.drawFinger(t),this.drawDots(t),this.drawBeats(t)},drawFinger:function(t){var e=this;this.circles.forEach(function(n){var o={x:e.center.x-n/2*t.sin(e.currentAngle),y:e.center.y-n/2*t.cos(e.currentAngle)};t.stroke("#6a44eb"),t.line(e.center.x,e.center.y,o.x,o.y),e.beats.forEach(function(n){var a=e.sounds[n.role];e.started&&e.isAreaDetected(o,n)&&(e.drawFullDot(t,n,e.beatColor(n.role),1.6*e.beatSize),a.play())})}),t.angleMode(t.DEGREES);var n=this.started?this.tempo*this.increment/t.frameRate():0;this.currentAngle-=n},drawCircles:function(t){var e=this;this.circles.forEach(function(n){t.stroke("#34ebac"),t.noFill(),t.ellipse(e.center.x,e.center.y,n)})},drawDots:function(t){var e=this;this.dots.forEach(function(n){n.forEach(function(n){return e.drawFullDot(t,n,"#321fb2")})})},drawFullDot:function(t,e,n,o){var a=o||e.size||this.dotSize;t.fill(n),t.noStroke(),t.ellipse(e.x,e.y,a)},drawBeats:function(t){var e=this;!0===this.isRotating?(this.beats.forEach(function(n){n=e.rotateBeats(t,n),e.drawFullDot(t,n,e.beatColor(n.role))}),this.isRotating=!1):this.beats.forEach(function(n){e.drawFullDot(t,n,e.beatColor(n.role))})},rotateBeats:function(t,e){t.angleMode(t.DEGREES);var n=this.radius*(1-.25*e.circle),o=e.angle+this.rotation,a=this.center.x-n*t.sin(o),r=this.center.y-n*t.cos(o);return u()(e,{x:a,y:r,angle:o})},createBeats:function(t){var e=this,n=t.mouseX,o=t.mouseY,a={x:n,y:o};this.dots.forEach(function(t,n){t.forEach(function(t){if(e.isAreaDetected(a,t)){var o=e.beats.find(function(e){return e.x===t.x&&e.y===t.y});o?e.beats=e.beats.filter(function(t){return t!==o}):e.beats.push(e.getBeat(t,n))}})})},resetBeats:function(){this.beats=[]},resetCircles:function(){this.circles=[this.circles[0]],this.dots=[this.dots[0]],this.resetBeats()},addCircle:function(){var t=this.circles[0]*(1-.25*this.circles.length);this.circles.push(t),this.createDots(t/2)}},mounted:function(){this.sounds.main=this.$refs.hitSound,this.sounds.off=this.$refs.offSound,this.sounds.main.load(),this.sounds.off.load()},components:{VueP5:p.a},watch:{angles:function(){this.createDots(this.radius,!0)}}},m=g,b=(n("4b27"),n("2877")),v=Object(b["a"])(m,i,s,!1,null,null,null);v.options.__file="circle.vue";var y=v.exports,w={name:"app",components:{circleCanvas:y}},k=w,M=(n("034f"),Object(b["a"])(k,a,r,!1,null,null,null));M.options.__file="App.vue";var S=M.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(S)}}).$mount("#app")},"64a9":function(t,e,n){},"85b3":function(t,e,n){},d675:function(t,e){t.exports="data:audio/mpeg;base64,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"}});
//# sourceMappingURL=app.bc6b8ee8.js.map